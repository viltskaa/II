<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CSV</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>
</head>
<body class="d-flex justify-content-center flex-column p-1 flex-wrap">
<a class="btn btn-dark w-100 mb-3" href="/s">search</a>
<form action="/view" class="w-100">
    <div class="input-group mb-1">
        <span class="input-group-text w-25" id="basic-addon1">Row Start</span>
        <input type="number" class="form-control" name="row_start" value="0">
    </div>
{#    <div class="input-group mb-1">#}
{#        <select class="form-select" aria-label="Default select example">#}
{#            <option value="1">Old csv</option>#}
{#            <option value="2">New csv</option>#}
{#        </select>#}
{#    </div>#}
    <div class="input-group mb-1">
        <span class="input-group-text w-25" id="basic-addon1">Row End</span>
        <input type="number" class="form-control" name="row_end" value="{{ rows_count }}">
    </div>
    <div class="input-group mb-1">
        <span class="input-group-text w-25" id="basic-addon1">Column Start</span>
        <input type="number" class="form-control" name="column_start" value="0">
    </div>
    <div class="input-group mb-1">
        <span class="input-group-text w-25" id="basic-addon1">Column End</span>
        <input type="number" class="form-control" name="column_end" value="{{ columns_count }}">
    </div>
    <div class="form-check-inline form-switch mb-1">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckChecked" name="data_analysis">
        <label class="form-check-label" for="flexSwitchCheckChecked">Add data analysis</label>
    </div>
    <div class="input-group mb-1 w-100">
        <button type="submit" class="btn btn-primary w-100">Open</button>
    </div>
</form>
<div class="accordion" id="accordionFlushExample">
    <div class="accordion-item">
        <h2 class="accordion-header" id="flush-headingOne">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                About this file
            </button>
        </h2>
        <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne"
             data-bs-parent="#accordionFlushExample">
            <div class="accordion-body">The datasets consist of several medical predictor (independent) variables and
                one target (dependent) variable, Outcome. Independent variables include the number of pregnancies the
                patient has had, their BMI, insulin level, age, and so on.
            </div>
        </div>
    </div>
    <div class="accordion-item">
        <h2 class="accordion-header" id="flush-headingTwo">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                Context
            </button>
        </h2>
        <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo"
             data-bs-parent="#accordionFlushExample">
            <div class="accordion-body">This dataset is originally from the National Institute of Diabetes and Digestive
                and Kidney Diseases. The objective of the dataset is to diagnostically predict whether or not a patient
                has diabetes, based on certain diagnostic measurements included in the dataset. Several constraints were
                placed on the selection of these instances from a larger database. In particular, all patients here are
                females at least 21 years old of Pima Indian heritage.
            </div>
        </div>
    </div>
    <div class="accordion-item">
        <h2 class="accordion-header" id="flush-headingThree">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
                Info
            </button>
        </h2>
        <div id="flush-collapseThree" class="accordion-collapse collapse" aria-labelledby="flush-headingThree"
             data-bs-parent="#accordionFlushExample">
            <div class="accordion-body">
                Empty cells: {% for info in empty_cells %}
                <span class="badge bg-primary text-dark">{{ info }}</span> {% endfor %}
            </div>
            <div class="accordion-body">
                Filled cells: {% for info in filled_cells %}
                <span class="badge bg-primary text-dark">{{ info }}</span> {% endfor %}
            </div>
            <div class="accordion-body">
                Rows count: <span class="badge bg-success text-dark">{{ rows_count }}</span>
            </div>
            <div class="accordion-body">
                Columns count: <span class="badge bg-success text-dark">{{ columns_count }}</span>
            </div>
            <div class="accordion-body">
                Columns info: {% for info in column_info %}
                <span class="badge bg-info text-dark">{{ info }}</span> {% endfor %}
            </div>
            <ul class="list-group list-group-flush">
                <li class="list-group-item"><b>Pregnancies:</b> Number of times pregnant</li>
                <li class="list-group-item"><b>Glucose:</b> Plasma glucose concentration a 2 hours in an oral glucose
                    tolerance test
                </li>
                <li class="list-group-item"><b>BloodPressure:</b> Diastolic blood pressure (mm Hg)</li>
                <li class="list-group-item"><b>SkinThickness</b> Triceps skin fold thickness (mm)</li>
                <li class="list-group-item"><b>Insulin:</b> 2-Hour serum insulin (mu U/ml)</li>
                <li class="list-group-item"><b>BMI:</b> Body mass index (weight in kg/(height in m)^2)</li>
                <li class="list-group-item"><b>DiabetesPedigreeFunction:</b> Diabetes pedigree function</li>
                <li class="list-group-item"><b>Age:</b> Age (years)</li>
                <li class="list-group-item"><b>Outcome:</b> Class variable (0 or 1) 268 of 768 are 1, the others are 0
                </li>
            </ul>
        </div>
    </div>
</div>
{% if table or analysis %}
    <div class="accordion mt-2" id="accordionExample">
        {% if table %}
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingOne">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapse1"
                            aria-expanded="true" aria-controls="collapse1">
                        Data
                    </button>
                </h2>
                <div id="collapse1" class="accordion-collapse collapse show" aria-labelledby="headingOne"
                     data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        {% if table %}
                            <div class="container-fluid w-100 p-2 rounded bg-light border mt-1">
                                {{ table|safe }}
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        {% endif %}
        {% if analysis %}
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingTwo">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapse2" aria-expanded="true" aria-controls="collapse2">
                        Analysis
                    </button>
                </h2>
                <div id="collapse2" class="accordion-collapse collapse" aria-labelledby="headingTwo"
                     data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        {% if analysis %}
                            <div class="d-flex w-100 mt-1">
                                <div class="d-flex rounded bg-light border m-1 w-50 ms-0 p-1">
                                    {{ analysis[0]|safe }}
                                </div>
                                <div class="d-flex rounded bg-light border m-1 w-50 me-0 p-1">
                                    {{ analysis[1]|safe }}
                                </div>
                            </div>
                            <div class="d-flex w-100 mt-1">
                                <div class="d-flex rounded bg-light border m-1 w-50 ms-0 p-1">
                                    {{ analysis[2]|safe }}
                                </div>
                                <div class="d-flex rounded bg-light border m-1 w-50 me-0 p-1">
                                    {{ analysis[3]|safe }}
                                </div>
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        {% endif %}
    </div>
{% endif %}
</body>
</html>